<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Custom Report - Financial Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .sidebar-shadow { box-shadow: 2px 0 4px rgba(0,0,0,0.1); }
        .hover-bg:hover { background-color: #f9fafb; }
        .nav-active { background-color: #dbeafe; color: #1d4ed8; }
        .metric-card { 
            transition: all 0.2s ease;
            border: 1px solid #e5e7eb;
        }
        .metric-card:hover { 
            transform: translateY(-1px); 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: #3b82f6;
        }
        .metric-selected {
            border-color: #3b82f6 !important;
            background-color: #eff6ff !important;
        }
        .tab-button {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        .tab-active {
            background-color: #3b82f6;
            color: white;
        }
        .tab-inactive {
            background-color: #f3f4f6;
            color: #6b7280;
        }
        .metric-icon {
            width: 20px;
            height: 20px;
            margin-right: 8px;
        }
        .template-card {
            transition: all 0.3s ease;
            border: 2px solid #e5e7eb;
        }
        .template-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: #3b82f6;
        }
        .template-selected {
            border-color: #3b82f6 !important;
            background-color: #eff6ff !important;
        }
        .preview-chart {
            background: linear-gradient(45deg, #f3f4f6 25%, transparent 25%), 
                        linear-gradient(-45deg, #f3f4f6 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f3f4f6 75%), 
                        linear-gradient(-45deg, transparent 75%, #f3f4f6 75%);
            background-size: 4px 4px;
            background-position: 0 0, 0 2px, 2px -2px, -2px 0px;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-white sidebar-shadow">
            <div class="p-4">
                <!-- Back Button -->
                <div class="flex items-center mb-4 text-gray-600 cursor-pointer hover:text-gray-800">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    <span class="text-sm font-medium">Financial Suite</span>
                </div>
                
                <!-- Navigation -->
                <nav class="space-y-1">
                    <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover-bg">
                        <span class="text-sm">Dashboard</span>
                    </a>
                    
                    <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover-bg">
                        <span class="text-sm">Reports</span>
                    </a>
                    
                    <!-- Custom Reports Section (Active) -->
                    <div class="nav-active rounded-md px-3 py-2">
                        <span class="text-sm font-medium">Custom Reports</span>
                    </div>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Header -->
            <div class="bg-white border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-semibold text-gray-900">Create Custom Report</h1>
                        <p class="text-sm text-gray-600 mt-1">Build a custom report with your preferred metrics, filters, and visualizations</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button class="flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm hover-bg">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                            Cancel
                        </button>
                        <button class="flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm hover-bg">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                            </svg>
                            Preview
                        </button>
                        <button class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                            </svg>
                            Save Report
                        </button>
                    </div>
                </div>
            </div>

            <div class="flex flex-1">
                <!-- Report Builder Area -->
                <div class="flex-1 p-6">
                    <!-- Report Details -->
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <h2 class="text-lg font-medium text-gray-900 mb-4">Report Details</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Report Name</label>
                                <input type="text" placeholder="Enter report name..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                <textarea placeholder="Describe what this report shows..." rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Template Selection -->
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="mb-6">
                            <h3 class="text-lg font-medium text-gray-900 mb-2 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                                Choose a Template to Get Started
                            </h3>
                            <p class="text-sm text-gray-600">Select a pre-built template or start from scratch</p>
                        </div>

                        <!-- Template Grid -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                            <!-- Best Sellers Template -->
                            <div class="template-card p-4 rounded-lg cursor-pointer bg-white" data-template="best-sellers">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="p-2 bg-green-100 rounded-lg">
                                        <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full">Popular</span>
                                </div>
                                <h4 class="font-semibold text-gray-900 mb-2">Best Selling Items</h4>
                                <p class="text-sm text-gray-600 mb-3">Track your top-performing products by quantity and revenue</p>
                                <div class="preview-chart h-12 rounded mb-3 flex items-center justify-center">
                                    <div class="flex space-x-1">
                                        <div class="w-2 bg-green-400 rounded-t" style="height: 30px;"></div>
                                        <div class="w-2 bg-green-300 rounded-t" style="height: 22px;"></div>
                                        <div class="w-2 bg-green-200 rounded-t" style="height: 18px;"></div>
                                        <div class="w-2 bg-green-100 rounded-t" style="height: 12px;"></div>
                                    </div>
                                </div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Items</span>
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Quantity</span>
                                </div>
                            </div>

                            <!-- Sales Performance Template -->
                            <div class="template-card p-4 rounded-lg cursor-pointer bg-white" data-template="sales-performance">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="p-2 bg-blue-100 rounded-lg">
                                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full">Trending</span>
                                </div>
                                <h4 class="font-semibold text-gray-900 mb-2">Sales Performance</h4>
                                <p class="text-sm text-gray-600 mb-3">Monitor daily, weekly, and monthly sales trends</p>
                                <div class="preview-chart h-12 rounded mb-3 flex items-center justify-center">
                                    <svg class="w-12 h-8" viewBox="0 0 48 32">
                                        <polyline fill="none" stroke="#3b82f6" stroke-width="2" points="0,25 12,18 24,20 36,12 48,15"/>
                                        <circle cx="12" cy="18" r="1.5" fill="#3b82f6"/>
                                        <circle cx="24" cy="20" r="1.5" fill="#3b82f6"/>
                                        <circle cx="36" cy="12" r="1.5" fill="#3b82f6"/>
                                    </svg>
                                </div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Orders</span>
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Revenue</span>
                                </div>
                            </div>

                            <!-- Customer Analysis Template -->
                            <div class="template-card p-4 rounded-lg cursor-pointer bg-white" data-template="customer-analysis">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="p-2 bg-purple-100 rounded-lg">
                                        <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full">Insights</span>
                                </div>
                                <h4 class="font-semibold text-gray-900 mb-2">Customer Analysis</h4>
                                <p class="text-sm text-gray-600 mb-3">Understand customer behavior and demographics</p>
                                <div class="preview-chart h-12 rounded mb-3 flex items-center justify-center">
                                    <div class="w-10 h-10 rounded-full border-3 border-purple-200 flex items-center justify-center relative">
                                        <div class="absolute inset-0 rounded-full border-3 border-purple-400" style="clip-path: polygon(0 0, 75% 0, 75% 100%, 0 100%);"></div>
                                        <span class="text-xs font-semibold text-purple-600">75%</span>
                                    </div>
                                </div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Customers</span>
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Retention</span>
                                </div>
                            </div>

                            <!-- Inventory Overview Template -->
                            <div class="template-card p-4 rounded-lg cursor-pointer bg-white" data-template="inventory-overview">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="p-2 bg-orange-100 rounded-lg">
                                        <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full">Essential</span>
                                </div>
                                <h4 class="font-semibold text-gray-900 mb-2">Inventory Overview</h4>
                                <p class="text-sm text-gray-600 mb-3">Track stock levels and turnover rates</p>
                                <div class="preview-chart h-12 rounded mb-3 flex items-center justify-center space-x-1">
                                    <div class="flex flex-col items-center">
                                        <div class="w-3 h-8 bg-orange-400 rounded-t"></div>
                                        <div class="text-xs text-gray-500 mt-1">High</div>
                                    </div>
                                    <div class="flex flex-col items-center">
                                        <div class="w-3 h-5 bg-orange-300 rounded-t"></div>
                                        <div class="text-xs text-gray-500 mt-1">Med</div>
                                    </div>
                                    <div class="flex flex-col items-center">
                                        <div class="w-3 h-2 bg-red-400 rounded-t"></div>
                                        <div class="text-xs text-gray-500 mt-1">Low</div>
                                    </div>
                                </div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Stock</span>
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Turnover</span>
                                </div>
                            </div>

                            <!-- Payment Methods Template -->
                            <div class="template-card p-4 rounded-lg cursor-pointer bg-white" data-template="payment-methods">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="p-2 bg-indigo-100 rounded-lg">
                                        <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full">Financial</span>
                                </div>
                                <h4 class="font-semibold text-gray-900 mb-2">Payment Methods</h4>
                                <p class="text-sm text-gray-600 mb-3">Analyze payment preferences and fees</p>
                                <div class="preview-chart h-12 rounded mb-3 flex items-center justify-center">
                                    <div class="grid grid-cols-2 gap-1">
                                        <div class="w-4 h-4 bg-indigo-400 rounded"></div>
                                        <div class="w-4 h-4 bg-indigo-300 rounded"></div>
                                        <div class="w-4 h-4 bg-indigo-200 rounded"></div>
                                        <div class="w-4 h-4 bg-indigo-100 rounded"></div>
                                    </div>
                                </div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Payments</span>
                                    <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Fees</span>
                                </div>
                            </div>

                            <!-- Build from Scratch -->
                            <div class="template-card p-4 rounded-lg cursor-pointer bg-white border-dashed" data-template="custom-build">
                                <div class="text-center">
                                    <div class="p-2 bg-gray-100 rounded-lg inline-flex mb-3">
                                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                        </svg>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 mb-2">Build from Scratch</h4>
                                    <p class="text-sm text-gray-600 mb-3">Start with a blank canvas and create a custom report</p>
                                    <div class="text-blue-600 text-sm font-medium">Start Building ‚Üí</div>
                                </div>
                            </div>
                        </div>

                        <!-- Selected Template Info -->
                        <div id="selectedTemplateInfo" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h4 class="font-medium text-blue-900 mb-1" id="selectedTemplateName">Template Selected</h4>
                                    <p class="text-sm text-blue-700" id="selectedTemplateDesc">Template description</p>
                                </div>
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors" onclick="applyTemplate()">
                                    Apply Template
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel - Build Your Report -->
                <div class="w-96 bg-white border-l border-gray-200 overflow-auto">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-gray-900">Build Your Report</h3>
                            <span class="text-sm text-gray-500">0 selected</span>
                        </div>

                        <!-- Tabs -->
                        <div class="flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg">
                            <button class="tab-button tab-active flex-1 text-center" id="metricsTab">
                                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                Metrics
                            </button>
                            <button class="tab-button tab-inactive flex-1 text-center" id="filtersTab">
                                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"></path>
                                </svg>
                                Filters
                            </button>
                            <button class="tab-button tab-inactive flex-1 text-center" id="groupByTab">
                                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14-7H3m16 14H7m6 4l4-4-4-4"></path>
                                </svg>
                                Group By
                            </button>
                        </div>

                        <!-- Secondary Tabs -->
                        <div class="flex space-x-1 mb-6">
                            <button class="px-3 py-1 text-sm border border-gray-300 rounded text-gray-600 hover:bg-gray-50">
                                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                Charts
                            </button>
                            <button class="px-3 py-1 text-sm border border-gray-300 rounded text-gray-600 hover:bg-gray-50">
                                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
                                </svg>
                                Widgets
                            </button>
                        </div>

                        <!-- Available Metrics -->
                        <div class="mb-4">
                            <h4 class="text-sm font-medium text-gray-900 mb-3">Available Metrics</h4>
                        </div>

                        <!-- Metrics List -->
                        <div class="space-y-3" id="metricsList">
                            <!-- Qty Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="qty">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-blue-100 rounded flex items-center justify-center">
                                            <span class="text-blue-600 text-xs">#</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Qty</div>
                                            <div class="text-xs text-gray-500">Quantity</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Channel Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="channel">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-green-100 rounded flex items-center justify-center">
                                            <span class="text-green-600 text-xs">üì±</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Channel</div>
                                            <div class="text-xs text-gray-500">Sales channel</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Transaction Count Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="transaction-count">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-purple-100 rounded flex items-center justify-center">
                                            <span class="text-purple-600 text-xs">üßæ</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Transaction Count</div>
                                            <div class="text-xs text-gray-500">Number of transactions</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Amount Discounted Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="amount-discounted">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-orange-100 rounded flex items-center justify-center">
                                            <span class="text-orange-600 text-xs">%</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Amount Discounted</div>
                                            <div class="text-xs text-gray-500">Total amount discounted</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Gross Sales Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="gross-sales">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-green-100 rounded flex items-center justify-center">
                                            <span class="text-green-600 text-xs">üí∞</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Gross Sales</div>
                                            <div class="text-xs text-gray-500">Total sales before deductions</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Net Sales Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="net-sales">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-blue-100 rounded flex items-center justify-center">
                                            <span class="text-blue-600 text-xs">üíµ</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Net Sales</div>
                                            <div class="text-xs text-gray-500">Sales after returns and discounts</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Item Name Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="item-name">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-gray-100 rounded flex items-center justify-center">
                                            <span class="text-gray-600 text-xs">üì¶</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Item Name</div>
                                            <div class="text-xs text-gray-500">Name of the item</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Item Info</div>
                                </div>
                            </div>

                            <!-- Category Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="category">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-indigo-100 rounded flex items-center justify-center">
                                            <span class="text-indigo-600 text-xs">üìÇ</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Category</div>
                                            <div class="text-xs text-gray-500">Item category</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Categories</div>
                                </div>
                            </div>

                            <!-- Tax Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="tax">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-red-100 rounded flex items-center justify-center">
                                            <span class="text-red-600 text-xs">üèõÔ∏è</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Tax</div>
                                            <div class="text-xs text-gray-500">Tax amount</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Sales</div>
                                </div>
                            </div>

                            <!-- Returns Amount Metric -->
                            <div class="metric-card p-3 rounded-lg cursor-pointer" data-metric="returns-amount">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="metric-icon bg-yellow-100 rounded flex items-center justify-center">
                                            <span class="text-yellow-600 text-xs">‚Ü©Ô∏è</span>
                                        </div>
                                        <div>
                                            <div class="text-sm font-medium text-gray-900">Returns Amount</div>
                                            <div class="text-xs text-gray-500">Total value of returns</div>
                                        </div>
                                    </div>
                                    <div class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Returns</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedMetrics = [];
        let selectedTemplate = null;

        // Template configurations
        const templateConfigs = {
            'best-sellers': {
                name: 'Best Selling Items',
                description: 'Track your top-performing products by quantity sold and revenue generated',
                metrics: ['item-name', 'qty', 'gross-sales', 'net-sales'],
                groupBy: ['item-name'],
                sortBy: 'qty DESC',
                chartType: 'bar'
            },
            'sales-performance': {
                name: 'Sales Performance',
                description: 'Monitor daily, weekly, and monthly sales trends with key performance indicators',
                metrics: ['transaction-count', 'gross-sales', 'net-sales'],
                groupBy: ['date'],
                sortBy: 'date ASC',
                chartType: 'line'
            },
            'customer-analysis': {
                name: 'Customer Analysis',
                description: 'Understand customer behavior, repeat purchases, and demographic patterns',
                metrics: ['transaction-count', 'gross-sales'],
                groupBy: ['customer-segment'],
                sortBy: 'transaction-count DESC',
                chartType: 'pie'
            },
            'inventory-overview': {
                name: 'Inventory Overview',
                description: 'Track stock levels, low inventory alerts, and product turnover rates',
                metrics: ['item-name', 'qty', 'category'],
                groupBy: ['category'],
                sortBy: 'qty ASC',
                chartType: 'bar'
            },
            'payment-methods': {
                name: 'Payment Methods',
                description: 'Analyze payment preferences, transaction fees, and processing times',
                metrics: ['channel', 'transaction-count', 'gross-sales'],
                groupBy: ['channel'],
                sortBy: 'transaction-count DESC',
                chartType: 'pie'
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Template selection functionality
            const templateCards = document.querySelectorAll('.template-card');
            const selectedTemplateInfo = document.getElementById('selectedTemplateInfo');
            const selectedTemplateName = document.getElementById('selectedTemplateName');
            const selectedTemplateDesc = document.getElementById('selectedTemplateDesc');

            templateCards.forEach(card => {
                card.addEventListener('click', function() {
                    const templateId = this.dataset.template;
                    
                    // Remove selection from all cards
                    templateCards.forEach(c => c.classList.remove('template-selected'));
                    
                    // Add selection to clicked card
                    this.classList.add('template-selected');
                    
                    // Update selected template
                    selectedTemplate = templateId;
                    
                    if (templateId === 'custom-build') {
                        selectedTemplateInfo.classList.add('hidden');
                        // Start building from scratch
                        console.log('Starting custom build...');
                    } else {
                        const config = templateConfigs[templateId];
                        if (config) {
                            selectedTemplateName.textContent = config.name;
                            selectedTemplateDesc.textContent = config.description;
                            selectedTemplateInfo.classList.remove('hidden');
                        }
                    }
                    
                    // Add selection animation
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });

            // Tab switching functionality
            const tabs = ['metricsTab', 'filtersTab', 'groupByTab'];
            
            tabs.forEach(tabId => {
                document.getElementById(tabId).addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabs.forEach(id => {
                        const tab = document.getElementById(id);
                        tab.classList.remove('tab-active');
                        tab.classList.add('tab-inactive');
                    });
                    
                    // Add active class to clicked tab
                    this.classList.remove('tab-inactive');
                    this.classList.add('tab-active');
                });
            });

            // Metric card selection
            const metricCards = document.querySelectorAll('.metric-card');
            
            metricCards.forEach(card => {
                card.addEventListener('click', function() {
                    const metricId = this.dataset.metric;
                    
                    if (this.classList.contains('metric-selected')) {
                        // Deselect
                        this.classList.remove('metric-selected');
                        selectedMetrics = selectedMetrics.filter(id => id !== metricId);
                    } else {
                        // Select
                        this.classList.add('metric-selected');
                        selectedMetrics.push(metricId);
                    }
                    
                    // Update counter
                    document.querySelector('.text-sm.text-gray-500').textContent = `${selectedMetrics.length} selected`;
                    
                    // Add visual feedback
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });

            // Add hover effects to buttons
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('bg-blue-600')) {
                        this.style.transform = 'translateY(-1px)';
                    }
                });
                
                button.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                });
            });
        });

        // Apply template function
        function applyTemplate() {
            if (!selectedTemplate || selectedTemplate === 'custom-build') return;
            
            const config = templateConfigs[selectedTemplate];
            if (!config) return;
            
            // Clear existing selections
            selectedMetrics = [];
            document.querySelectorAll('.metric-card').forEach(card => {
                card.classList.remove('metric-selected');
            });
            
            // Auto-select metrics from template
            config.metrics.forEach(metricId => {
                const metricCard = document.querySelector(`[data-metric="${metricId}"]`);
                if (metricCard) {
                    metricCard.classList.add('metric-selected');
                    selectedMetrics.push(metricId);
                }
            });
            
            // Update counter
            document.querySelector('.text-sm.text-gray-500').textContent = `${selectedMetrics.length} selected`;
            
            // Update report name
            const reportNameInput = document.querySelector('input[placeholder="Enter report name..."]');
            if (reportNameInput) {
                reportNameInput.value = config.name;
            }
            
            // Update description
            const reportDescTextarea = document.querySelector('textarea[placeholder="Describe what this report shows..."]');
            if (reportDescTextarea) {
                reportDescTextarea.value = config.description;
            }
            
            // Hide template info
            document.getElementById('selectedTemplateInfo').classList.add('hidden');
            
            // Show success message
            alert(`Template "${config.name}" applied successfully! Selected ${config.metrics.length} metrics.`);
            
            console.log('Applied template:', config);
        }
    </script>
</body>
</html>
